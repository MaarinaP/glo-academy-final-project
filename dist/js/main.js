(()=>{"use strict";const e=({timing:e,draw:t,duration:l})=>{let o=performance.now();requestAnimationFrame((function a(r){let n=(r-o)/l;n>1&&(n=1);let c=e(n);t(c),n<1&&requestAnimationFrame(a)}))},t=(e,t)=>{const l=document.querySelector(t);if(!l)return;const o=l.querySelectorAll(".count_1 span"),a=l.querySelectorAll(".count_2 span"),r=l.querySelectorAll(".count_3 span"),n=l.querySelectorAll(".count_4 span"),c=()=>{const t=(new Date).getTime();let l=(new Date(e).getTime()-t)/1e3,i=Math.floor(l%60),d=Math.floor(l/60%60),y=Math.floor(l/60/60%24),u=Math.floor(l/60/60/24);s(o,u),s(a,y),s(r,d),s(n,i);let m=setTimeout(c,1e3);l<0&&(clearTimeout(m),s(o,"0"),s(a,"0"),s(r,"0"),s(n,"0"))},s=(e,t)=>{e.forEach((e=>{e.textContent=i(t)}))},i=e=>(e<10&&(e="0"+e),e);c()};(()=>{const t=document.querySelector("body"),l=document.querySelector(".overlay"),o=document.querySelector(".header-modal"),a=document.querySelector(".services-modal"),r=document.querySelectorAll(".sertificate-document"),n=document.querySelectorAll(".document-overlay"),c=document.querySelectorAll("a .img-responsive");n.forEach((e=>{const t=document.createElement("span"),l=document.createElement("img");t.className="close header-modal__close",t.innerHTML="X",t.style.top="30px",t.style.right="130px",t.style.color="black",l.className="modal-image",l.style.width="75%",e.append(t),e.append(l),e.style.display="none"}));const s=document.querySelectorAll(".modal-image");c.forEach(((e,t)=>{e.addEventListener("click",(e=>{e.preventDefault(),n[t].style.display="block",n[t].classList.add("header-modal--opened"),n[t].classList.remove("document-overlay"),s[t].src=r[t].href,l.style.display="block",s.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault()}))}))}))})),t.addEventListener("click",(t=>{t.target.closest(".button .btn")&&(t.preventDefault(),l.style.display="block",o.style.display="block",e({duration:400,timing:e=>e,draw(e){o.style.top="0%",o.style.top=50*e+"%"}})),t.target.closest(".service-button .btn")&&(t.preventDefault(),l.style.display="block",a.style.display="block",e({duration:400,timing:e=>e,draw(e){a.style.top="0%",a.style.top=50*e+"%"}})),t.target.matches("span[title ~= Close]")&&(l.style.display="none",a.style.display="none",o.style.display="none"),t.target.closest(".modal-image")&&t.preventDefault(),t.target.closest(".close")&&(t.preventDefault(),l.style.display="none",t.target.parentNode.style.display="none")}))})(),(()=>{const e=document.querySelector("body"),t=document.getElementById("services"),l=document.querySelector(".smooth-scroll");l.style.display="none",document.addEventListener("scroll",(()=>{t.getBoundingClientRect().top>542?l.style.display="none":l.style.display="block"})),l.addEventListener("click",(()=>{e.scrollIntoView({behavior:"smooth"})}))})(),t("31 march 2022",".okna"),t("30 march 2022",".balkony"),t("5 april 2022",".kuhni"),(()=>{const e=document.querySelector("body"),t=document.querySelectorAll(".benefits__item"),l=document.getElementById("services").querySelectorAll(".col-md-12"),o=(e,t,l,o=576)=>{if(e.forEach(((e,t)=>{e.style.display="none",e.classList.add(t)})),screen.width>=o)for(let l=0;l<t;l++)e[l].style.display="block";else for(let t=0;t<l;t++)e[t].style.display="block",e.forEach((e=>{e.style.width="auto",e.style.margin="auto"}))};o(l,2,1),o(t,3,1);const a=(e,t)=>{e=document.querySelectorAll(t);let l=[...e].filter((e=>"block"===e.style.display)),o=[...e].findIndex((e=>"block"===e.style.display))+l.length,a=e[0],r=e[e.length-1];a.style.display="none",r.insertAdjacentElement("afterend",a),e[o].style.display="block"},r=(e,t)=>{e=document.querySelectorAll(t);let l=[...e].filter((e=>"block"===e.style.display)),o=[...e].findIndex((e=>"block"===e.style.display))+(l.length-1),a=e[0],r=e[e.length-1];e[o].style.display="none",a.insertAdjacentElement("beforebegin",r),r.style.display="block"};e.addEventListener("click",(e=>{e.target.closest(".benefits__arrow")&&(e.target.closest(".benefits__arrow--right")?r(t,".benefits__item"):a(t,".benefits__item")),e.target.closest(".services__arrow")&&(e.target.closest(".services__arrow--right")?r(l,".col-md-12"):a(l,".col-md-12"))}))})(),(()=>{const e=document.querySelector("body"),t=/[^a-zа-я ]/gi,l=/[^\+0-9]/gi;e.addEventListener("input",(e=>{e.target.matches("input[name=fio]")&&(e.target.value=e.target.value.replace(t,"")),e.target.matches("input[name=phone]")&&(e.target.value=e.target.value.replace(l,""),e.target.value.length>17&&(e.target.value=e.target.value.substring(0,17)))}))})(),(()=>{const e=document.querySelector(".balkony");if(!e)return;const t=e.querySelector("#calc"),l=/[^0-9]+/i;t.addEventListener("input",(e=>{e.target.matches("#calc-input")&&(e.target.value=e.target.value.replace(l,""))})),t.addEventListener("change",(t=>{const l=e.querySelector("#calc-type").value,o=e.querySelector("#calc-type-material").value,a=e.querySelector("#calc-input").value,r=e.querySelector("#calc-total");l&&o&&a&&(r.value=Math.floor(l*o*a))}))})(),(()=>{const e=document.querySelector("body"),t=document.querySelectorAll(".form-control");e.addEventListener("submit",(e=>{(e.target.closest(".order-form")||e.target.closest(".order-call-modal"))&&(e.preventDefault(),(e=>{const l=new FormData(e.target),o={};l.forEach(((e,t)=>{o[t]=e}));const a=document.getElementById("calc-total");var r;o.calcTotal=a?a.value:"",o.fio&&o.phone?(r=o,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((e=>e.json)),alert("Спасибо, ваша форма отправлена"),t.forEach((e=>{e.value=""}))):alert("Пожалуйста, заполните все поля формы")})(e))}))})()})();