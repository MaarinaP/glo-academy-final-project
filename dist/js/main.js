(()=>{"use strict";const e=({timing:e,draw:t,duration:l})=>{let o=performance.now();requestAnimationFrame((function r(a){let c=(a-o)/l;c>1&&(c=1);let n=e(c);t(n),c<1&&requestAnimationFrame(r)}))},t=(e,t)=>{const l=document.querySelector(t);if(!l)return;const o=l.querySelectorAll(".count_1 span"),r=l.querySelectorAll(".count_2 span"),a=l.querySelectorAll(".count_3 span"),c=l.querySelectorAll(".count_4 span"),n=()=>{const t=(new Date).getTime();let l=(new Date(e).getTime()-t)/1e3,i=Math.floor(l%60),d=Math.floor(l/60%60),u=Math.floor(l/60/60%24),y=Math.floor(l/60/60/24);s(o,y),s(r,u),s(a,d),s(c,i);let m=setTimeout(n,1e3);l<0&&(clearTimeout(m),s(o,"0"),s(r,"0"),s(a,"0"),s(c,"0"))},s=(e,t)=>{e.forEach((e=>{e.textContent=i(t)}))},i=e=>(e<10&&(e="0"+e),e);n()};(()=>{const t=document.querySelector("body"),l=document.querySelector(".overlay"),o=document.querySelector(".header-modal"),r=document.querySelector(".services-modal"),a=document.querySelectorAll(".sertificate-document"),c=document.querySelectorAll(".document-overlay"),n=document.querySelectorAll("a .img-responsive");c.forEach((e=>{const t=document.createElement("span"),l=document.createElement("img");t.className="close header-modal__close",t.innerHTML="X",t.style.top="30px",t.style.right="40px",t.style.color="black",l.className="modal-image",l.style.width="95%",e.append(t),e.append(l),e.style.display="none"}));const s=document.querySelectorAll(".modal-image");n.forEach(((e,t)=>{e.addEventListener("click",(e=>{e.preventDefault(),c[t].style.display="block",c[t].classList.add("header-modal--opened"),c[t].classList.remove("document-overlay"),s[t].src=a[t].href,l.style.display="block",s.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault()}))}))}))})),t.addEventListener("click",(t=>{t.target.closest(".button .btn")&&(t.preventDefault(),l.style.display="block",o.style.display="block",e({duration:400,timing:e=>e,draw(e){o.style.top="0%",o.style.top=50*e+"%"}})),t.target.closest(".service-button .btn")&&(t.preventDefault(),l.style.display="block",r.style.display="block",e({duration:400,timing:e=>e,draw(e){r.style.top="0%",r.style.top=50*e+"%"}})),t.target.matches("span[title ~= Close]")&&(l.style.display="none",r.style.display="none",o.style.display="none"),t.target.closest(".modal-image")&&t.preventDefault(),t.target.closest(".close")&&(t.preventDefault(),l.style.display="none",console.dir(t.target))}))})(),(()=>{const e=document.querySelector("body"),t=document.getElementById("services"),l=document.querySelector(".smooth-scroll");l.style.display="none",document.addEventListener("scroll",(()=>{t.getBoundingClientRect().top>542?l.style.display="none":l.style.display="block"})),l.addEventListener("click",(()=>{e.scrollIntoView({behavior:"smooth"})}))})(),t("25 march 2022",".okna"),t("30 march 2022",".balkony"),t("5 april 2022",".kuhni"),(()=>{const e=document.querySelector("body"),t=document.querySelectorAll(".benefits__item"),l=document.getElementById("services").querySelectorAll(".col-md-12"),o=(e,t,l,o=576)=>{if(e.forEach((e=>{e.style.display="none"})),screen.width>=o)for(let l=0;l<t;l++)e[l].style.display="block";else for(let t=0;t<l;t++)e[t].style.display="block"};o(t,3,1),o(l,2,1);const r=e=>{let t=[...e].filter((e=>"block"===e.style.display)),l=[...e].findIndex((e=>"block"===e.style.display))+t.length;l<e.length&&(t[0].style.display="none",e[l].style.display="block")},a=e=>{e=[...e].reverse(),r(e)};e.addEventListener("click",(e=>{e.target.closest(".benefits__arrow")&&(e.target.closest(".benefits__arrow--right")?r(t):a(t)),e.target.closest(".services__arrow")&&(e.target.closest(".services__arrow--right")?r(l):a(l))}))})(),(()=>{const e=document.querySelector("body"),t=/[^a-zа-я]/gi,l=/[^\+0-9]/gi;e.addEventListener("input",(e=>{e.target.matches("input[name=fio]")&&(e.target.value=e.target.value.replace(t,"")),e.target.matches("input[name=phone]")&&(e.target.value=e.target.value.replace(l,""),e.target.value.length>17&&(e.target.value=e.target.value.substring(0,17)))}))})(),(()=>{const e=document.querySelector(".balkony");if(!e)return;const t=e.querySelector("#calc"),l=/[^0-9]+/i;t.addEventListener("input",(e=>{e.target.matches("#calc-input")&&(e.target.value=e.target.value.replace(l,""))})),t.addEventListener("change",(t=>{const l=e.querySelector("#calc-type").value,o=e.querySelector("#calc-type-material").value,r=e.querySelector("#calc-input").value,a=e.querySelector("#calc-total");l&&o&&r&&(a.value=Math.floor(l*o*r))}))})(),(()=>{const e=document.querySelector("body");e.addEventListener("submit",(e=>{(e.target.closest(".order-form")||e.target.closest(".order-call-modal"))&&(e.preventDefault(),(e=>{const t=new FormData(e.target),l={};t.forEach(((e,t)=>{l[t]=e}));const o=document.getElementById("calc-total");var r;l.calcTotal=o?o.value:"",l.fio&&l.phone?(r=l,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((e=>e.json))):alert("Пожалуйста, заполните все поля формы")})(e))}))})()})();